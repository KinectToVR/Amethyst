<Page
	x:Class="KinectToVR.DevicesPage"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:local="using:KinectToVR"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	mc:Ignorable="d"
	NavigationCacheMode="Required"
	xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
	xmlns:animatedvisuals="using:Microsoft.UI.Xaml.Controls.AnimatedVisuals">

	<Grid>

		<Grid>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="450" />
				<ColumnDefinition Width="*" />
				<ColumnDefinition Width="290" />
				<ColumnDefinition Width="6*" />
				<ColumnDefinition Width="150" />
				<ColumnDefinition Width="6*" />
			</Grid.ColumnDefinitions>

			<Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Column="0">

				<Grid.RowDefinitions>
					<RowDefinition Height="60" />
					<RowDefinition Height="*" />
				</Grid.RowDefinitions>

				<TextBlock FontWeight="SemiBold" Text="Devices" FontSize="25" Margin="40,20,0,0" Grid.Row="0" />

				<ListView x:Name="TrackingDeviceListView" Grid.Column="1" CornerRadius="5"
				          VerticalAlignment="Top" HorizontalAlignment="Left"
				          Grid.Row="1" Margin="40,10,0,0" Width="370"
				          SelectedIndex="1" SelectionChanged="TrackingDeviceListView_SelectionChanged"
				          CanReorderItems="False" CanDragItems="False" AllowDrop="False">

					<ListView.Resources>
						<Style TargetType="ListViewItem" BasedOn="{StaticResource DefaultListViewItemStyle}">
							<Setter Property="Margin" Value="0,0,0,20" />
							<Setter Property="Background" Value="{StaticResource SystemControlAcrylicElementBrush}" />
						</Style>
					</ListView.Resources>

					<ListView.ItemTemplate>
						<DataTemplate x:DataType="local:TrackingDevicesView">
							<Grid Height="70" Name="DevicesViewGrid">
								<Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

								<TextBlock Grid.Column="0" Margin="10,0,0,2" FontWeight="Bold"
								           VerticalAlignment="Center" FontSize="16"
								           Text="{x:Bind DeviceName, Mode=OneWay}" />

							</Grid>
						</DataTemplate>
					</ListView.ItemTemplate>

				</ListView>

			</Grid>

			<Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Column="2">

				<Grid.RowDefinitions>
					<RowDefinition Height="60" />
					<RowDefinition Height="*" />
				</Grid.RowDefinitions>

				<TextBlock FontWeight="SemiBold" Text="E_UNKNOWN"
				           x:Name="SelectedDeviceNameLabel"
				           FontSize="25" Margin="40,20,0,0" Grid.Row="0" />

				<StackPanel Orientation="Vertical" Margin="0,10,0,0" Grid.Row="1">

					<StackPanel Orientation="Horizontal" Margin="40,5,20,0">
						<TextBlock HorizontalAlignment="Left" VerticalAlignment="Center" FontWeight="SemiBold"
						           Text="Status:" Margin="0,0,0,0" Foreground="LightGray" />
						<TextBlock HorizontalAlignment="Left" VerticalAlignment="Center" FontWeight="SemiBold"
						           Text="Not Powered" Margin="5,0,0,0" x:Name="TrackingDeviceStatusLabel" />
					</StackPanel>

					<Grid Background="{ThemeResource SystemControlAcrylicElementBrush}"
					      Height="125" Margin="40,8,0,0" CornerRadius="3" x:Name="ErrorWhatGrid">

						<TextBlock HorizontalAlignment="Left" VerticalAlignment="Top" FontWeight="SemiBold"
						           Text="E_NUI_NOTPOWERED" Margin="10,7,0,0" FontFamily="Consolas"
						           x:Name="TrackingDeviceErrorLabel"
						           Foreground="{StaticResource AccentAcrylicInAppFillColorDefaultBrush}" />

						<TextBlock HorizontalAlignment="Left" VerticalAlignment="Top" FontWeight="SemiBold" x:Name="ErrorWhatText"
						           Margin="10,30,0,0" Foreground="LightGray" TextWrapping="WrapWholeWords">
							<TextBlock.Text>
								There is either a problem with your adapter/cables or with the Kinect device driver registration in Windows.
							</TextBlock.Text>
						</TextBlock>
					</Grid>

					<Grid Margin="40,12,0,0" x:Name="ErrorButtonsGrid">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="*" />
							<ColumnDefinition Width="*" />
						</Grid.ColumnDefinitions>

                        <Button FontSize="15" Height="65" x:Name="OpenDiscordButton"
						        VerticalContentAlignment="Center" FontWeight="SemiBold" Content="Join Discord"
						        Margin="0,10,10,10" CornerRadius="3" Grid.Column="0" HorizontalAlignment="Stretch"
						        VerticalAlignment="Stretch" />
                        <Button FontSize="15" Height="65" x:Name="OpenDocsButton" 
						        VerticalContentAlignment="Center" FontWeight="SemiBold" Content="View Docs"
						        Margin="10,10,0,10" CornerRadius="3" Grid.Column="1" HorizontalAlignment="Stretch"
						        VerticalAlignment="Stretch" Style="{StaticResource AccentButtonStyle}" />

					</Grid>

				</StackPanel>

			</Grid>

            <Button VerticalContentAlignment="Center" FontWeight="SemiBold" Content="Reconnect"
			        Margin="3,70,37,0" CornerRadius="3" Grid.Column="4" Height="35"
			        HorizontalAlignment="Stretch" VerticalAlignment="Top" 
			        x:Name="ReconnectDeviceButton" Click="ReconnectDeviceButton_Click"/>

        </Grid>

	</Grid>

</Page>